<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gomining Calculator</title>
    <style>
        /* Allgemeine Dark-Mode-Einstellungen */
        body {
            background-color: #1a1a1a; /* Dark background */
            color: #e6e6e6; /* Helles Grau für Text */
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            //justify-content: center;
            //align-items: center;
            min-height: 100vh;
        }

        /* Hauptcontainer */
        .main-container {
            width: 100%;
            max-width: 800px; /* Begrenzte Breite */
            margin: 0 auto; /* Zentrierung */
            padding: 20px;
            box-sizing: border-box; /* Innenabstand berücksichtigen */
        }

        /* Navigation oben */
        .tab-navigation {
            display: flex;
            justify-content: space-between; /* Gleicher Abstand zwischen Pfeilen und Titel */
            align-items: center;
            margin-bottom: 20px;
        }

        .tab-arrow {
            background-color: rgb(103, 45, 236);
            border: none;
            color: white;
            padding: 10px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 1.2em;
            transition: background-color 0.3s;
        }

        .tab-arrow:hover {
            background-color: rgb(123, 65, 256); /* Hellerer Effekt beim Hover */
        }

        #tab-name {
            font-weight: bold;
            font-size: 1.5em;
            text-align: center;
            flex-grow: 1; /* Erzwingt mittige Ausrichtung */
        }

        /* Inhalt des Containers */
        .tab-page {
            display: none; /* Standardmäßig ausgeblendet */
            padding: 20px;
            border-radius: 8px;
            background-color: #333; /* Dunkler Container */
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
            text-align: center; /* Inhalte zentrieren */
        }

        .tab-page.active {
            display: block; /* Sichtbarer Tab */
        }

        /* Felder und Labels */
        label {
            display: block;
            text-align: left; /* Linksbündig */
            margin: 15px auto 5px;
            max-width: 600px;
        }

        input {
            display: block;
            width: calc(100% - 40px); /* Verhindert Überschreiben des Containers */
            max-width: 600px;
            margin: 0 auto;
            padding: 10px;
            font-size: 1em;
            background-color: #2a2a2a;
            color: #e6e6e6;
            border: 1px solid #555;
            border-radius: 4px;
        }

        button {
            background-color: rgb(103, 45, 236);
            border: none;
            color: white;
            padding: 10px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 1.2em;
            margin-top: 15px;
        }

        button:hover {
            background-color: rgb(123, 65, 256);
        }
		table {
			border-spacing: 0;
			width: 100%;
			background-color: #2a2a2a;
			color: #e6e6e6;
		}

		th {
			background-color: #444;
			color: #fff;
			font-weight: bold;
		}

		td {
			text-align: right;
		}
		/* Stil für beide Slider (Standard-Styling) */
input[type="range"] {
    -webkit-appearance: none; /* Entfernt das Standard-Slider-Design */
    width: calc(100% - 40px); /* Breite anpassen */
    max-width: 600px;
    margin: 10px auto;
    cursor: pointer;
}

/* Slider-Spur */
input[type="range"]::-webkit-slider-runnable-track {
    height: 4px; /* Breitere Linie */
    background: #673dec; /* Lila Farbe */
    border-radius: 2px; /* Leicht abgerundet */
}

/* Slider-Punkt (Thumb) */
input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none; /* Entfernt Standard-Styling */
    width: 16px; /* Punktbreite */
    height: 16px; /* Punkthöhe */
    background: #ffffff; /* Weißer Punkt */
    border: 2px solid #673dec; /* Lila Rand */
    border-radius: 50%; /* Kreisform */
    cursor: pointer; /* Zeiger beim Hover */
    box-shadow: 0px 0px 5px rgba(103, 61, 236, 0.7); /* Dezenter Leuchteffekt */
    margin-top: -6px; /* Vertikale Zentrierung */
}

/* Hover-Effekt für Slider-Punkt */
input[type="range"]::-webkit-slider-thumb:hover {
    background: #673dec; /* Lila Punkt beim Hover */
    border: 2px solid #ffffff; /* Weißer Rand beim Hover */
    box-shadow: 0px 0px 10px rgba(103, 61, 236, 1); /* Stärkerer Leuchteffekt */
}

/* Für Firefox */
input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: #ffffff;
    border: 2px solid #673dec;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0px 0px 5px rgba(103, 61, 236, 0.7);
}

/* Spur für Firefox */
input[type="range"]::-moz-range-track {
    height: 4px;
    background: #673dec;
    border-radius: 2px;
}

/* Für IE */
input[type="range"]::-ms-thumb {
    width: 16px;
    height: 16px;
    background: #ffffff;
    border: 2px solid #673dec;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0px 0px 5px rgba(103, 61, 236, 0.7);
    margin-top: -6px;
}

/* Spur für IE */
input[type="range"]::-ms-track {
    height: 4px;
    background: #673dec;
    border-radius: 2px;
    border: none;
}




    </style>
</head>
<body>
    <div class="main-container">
        <!-- Navigationsleiste -->
        <div class="tab-navigation">
            <button class="tab-arrow" onclick="switchTab(-1)">&#9664;</button>
            <span id="tab-name">Calc</span>
            <button class="tab-arrow" onclick="switchTab(1)">&#9654;</button>
        </div>

        <!-- Tab Inhalte -->
        <div id="tab-content">
            <!-- Investment Calculator Tab -->
            <div class="tab-page active" id="Calc">
			    <button onclick="fetchPrices()">Get BTC Price</button>
				<label for="bitcoin-price">Bitcoinpreis ($):</label>
                <input type="number" id="bitcoin-price" oninput="syncSliderWithInput()" placeholder="z.B. 60000" >

				<input type="range" id="btc-slider" min="60000" max="150000" step="1000" value="60000" oninput="updateSliderValue()">
				<!-- <span id="btc-slider-value">60000</span>-->
                <label for="My_TH">My TH:</label>
                <input type="number" id="My_TH" value="133" placeholder="10">
                <label for="Energy-efficiency">Energy-efficiency (W/TH):</label>
                <input type="number" id="Energy-efficiency" value="24.41" placeholder="z.B. 20">
                <label for="gomining-discount">Gomining Maintenance Discount (%):</label>
                <input type="number" id="gomining-discount" value="0" min="0" max="20" step="1" oninput="updateDiscountSlider()" placeholder="0%">
                <input type="range" id="gomining-discount-slider" min="0" max="20" step="0.1" value="0" oninput="updateDiscountField(); calculateCost();">
				<label for="Daily-Reward">My Daily Reward:</label>
                <input type="number" id="Daily-Reward" value="8616" placeholder="z.B. 6500">
                <label for="Satoshi-per-TH">Satoshi per TH (sat/TH):</label>
                <input type="number" id="Satoshi-per-TH" value="62" placeholder="z.B. 64">
				
                <button onclick="calculateCost()">Berechnen</button>
                <table id="results-table" style="width: 100%; margin-top: 20px; border-collapse: collapse;">
                    <thead>
                        <tr>
                            <th style="border: 1px solid #555; padding: 10px; text-align: left;">Description</th>
                            <th style="border: 1px solid #555; padding: 10px; text-align: right;">Value ($)</th>
                            <th style="border: 1px solid #555; padding: 10px; text-align: right;">Value (BTC)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Daily Revenue</td>
                            <td id="daily-rewards" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td id="daily-rewards-btc" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Daily Electricity Cost</td>
                            <td id="electricity-cost" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td id="electricity-cost-btc" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Daily Service Cost</td>
                            <td id="service-cost" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td id="service-cost-btc" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Daily Total Maintenance Cost</td>
                            <td id="daily-maintenance-cost" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td id="daily-maintenance-cost-btc" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Daily Net Profit</td>
                            <td id="daily-net-profit" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td id="daily-net-profit-btc" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Monthly Revenue</td>
                            <td id="monthly-rewards" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td id="monthly-rewards-btc" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Monthly Total Maintenance Cost</td>
                            <td id="monthly-maintenance-cost" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td id="monthly-maintenance-cost-btc" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Monthly Net Profit</td>
                            <td id="monthly-net-profit" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td id="monthly-net-profit-btc" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #555; padding: 10px;">Maintenance Cost (%)</td>
                            <td id="maintenance" style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                            <td style="border: 1px solid #555; padding: 10px; text-align: right;">-</td>
                        </tr>
                        
                    </tbody>
                </table>
                
                

            </div>

            <!-- Gomining Verdienst Tab -->
            <div class="tab-page" id="worth">
				<label for="TH">TH:</label>
                <input type="number" id="TH" value="10" placeholder="10">
                <label for="Energy-efficiency">Energy-efficiency (W/TH):</label>
                <input type="number" id="Energy-efficiency" value="35" placeholder="z.B. 20">
                <button onclick="fetchPrices()">Get BTC Price</button>
                <p id="gomining-result"></p>
            </div>

            <!-- Maintenance Solo Mining Tab -->
            <div class="tab-page" id="maintenance-solo-mining">
                <h2>Maintenance Solo Mining</h2>
                <label for="miner-efficiency">Miner Efficiency (W/TH):</label>
                <input type="number" id="miner-efficiency" placeholder="z.B. 25">
                <label for="miner-th">Miner TH:</label>
                <input type="number" id="miner-th" placeholder="z.B. 8">
                <button onclick="calculateCost()">Berechnen</button>
                <p id="electricity-cost-result"></p>
				<p id="service-cost-result"></p>
            </div>-->
        </div>
    </div>

    <script>
        const tabs = [
            { name: "Calc", id: "Calc" },
            { name: "worth it ?", id: "worth" },
            //{ name: "Maintenance Solo Mining", id: "maintenance-solo-mining" }
        ];
        let currentTab = 0;

        function switchTab(direction) {
            document.getElementById(tabs[currentTab].id).classList.remove("active");
            currentTab = (currentTab + direction + tabs.length) % tabs.length;
            document.getElementById("tab-name").innerText = tabs[currentTab].name;
            document.getElementById(tabs[currentTab].id).classList.add("active");
        }



        async function fetchPrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                const data = await response.json();
                const bitcoinPrice = data.bitcoin.usd || "Nicht verfügbar";
				const slider = document.getElementById('btc-slider');
				const valueDisplay = document.getElementById('btc-slider-value');
				const minPrice = parseInt(slider.min);
				const maxPrice = parseInt(slider.max);
				
                document.getElementById('bitcoin-price').value = bitcoinPrice;
                document.getElementById('gomining-result').innerText = "Preise erfolgreich aktualisiert!";
				        // Wert in Slider setzen, falls im Bereich
				slider.value = bitcoinPrice; 
				if (bitcoinPrice >= minPrice && bitcoinPrice <= maxPrice) {
					slider.value = bitcoinPrice; // Slider-Wert setzen
					valueDisplay.innerText = bitcoinPrice; // Wert anzeigen
				} else {
					valueDisplay.innerText = 150000;
				}
            } catch (error) {
                document.getElementById('gomining-result').innerText = "Fehler beim Abrufen der Preise.";
            }
        }

			function updateSliderValue() {
				const slider = document.getElementById('btc-slider');
				const BTCFeld = document.getElementById('bitcoin-price');
				BTCFeld.value = slider.value; // Den Slider-Wert im Feld anzeigen

			}
            function updateDiscountField() {
                // Synchronisiert den Slider-Wert mit dem Eingabefeld
                const slider = document.getElementById('gomining-discount-slider');
                const field = document.getElementById('gomining-discount');
                field.value = slider.value; // Setzt den Wert des Feldes auf den Slider-Wert
            }

            function updateDiscountSlider() {
                // Synchronisiert das Eingabefeld mit dem Slider-Wert
                const slider = document.getElementById('gomining-discount-slider');
                const field = document.getElementById('gomining-discount');
                slider.value = field.value; // Setzt den Slider-Wert auf den Feld-Wert
            }

            function calculateCost() {
                const efficiency = parseFloat(document.getElementById('Energy-efficiency').value);
                const BTC = parseFloat(document.getElementById('bitcoin-price').value);
                const th = parseFloat(document.getElementById('My_TH').value);
                const dailyReward = parseFloat(document.getElementById('Daily-Reward').value);
                const costPerKWh = 0.05;
                const daily_cost = 0.0089;
                const discount = parseFloat(document.getElementById('gomining-discount').value);
                if (isNaN(efficiency) || isNaN(th) || isNaN(BTC) || isNaN(dailyReward)) {
                    alert("Please fill out all fields!");
                    return;
                }

                // Daily calculations
                const dailyElectricityCost = (efficiency * th * costPerKWh * 24 / 1000) * ((100 - discount) / 100);
                const dailyServiceCost = th * daily_cost * ((100 - discount) / 100);
                const dailyTotalMaintenanceCost = dailyElectricityCost + dailyServiceCost;
                const dailyRewardsInUSD = (dailyReward * 0.00000001) * BTC;
                const dailyNetProfitInUSD = dailyRewardsInUSD - dailyTotalMaintenanceCost;

                // Monthly calculations
                const monthlyRewardsInUSD = dailyRewardsInUSD * 30;
                const monthlyMaintenanceCostInUSD = dailyTotalMaintenanceCost * 30;
                const monthlyNetProfitInUSD = monthlyRewardsInUSD - monthlyMaintenanceCostInUSD;

                // BTC values
                const dailyRewardsInBTC = dailyReward * 0.00000001;
                const dailyElectricityCostInBTC = dailyElectricityCost / BTC;
                const dailyServiceCostInBTC = dailyServiceCost / BTC;
                const dailyMaintenanceCostInBTC = dailyTotalMaintenanceCost / BTC;
                const dailyNetProfitInBTC = dailyNetProfitInUSD / BTC;
                const monthlyRewardsInBTC = dailyRewardsInBTC * 30;
                const monthlyMaintenanceCostInBTC = monthlyMaintenanceCostInUSD / BTC;
                const monthlyNetProfitInBTC = monthlyNetProfitInUSD / BTC;
                const totalCosts = dailyElectricityCost + dailyServiceCost; // Gesamtkosten (Strom + Service)
                const costPercentage = (totalCosts / dailyRewardsInUSD) * 100; // Prozentuale Kosten




                // Update table
                document.getElementById('daily-rewards').innerText = `${dailyRewardsInUSD.toFixed(2)}`;
                document.getElementById('daily-rewards-btc').innerText = `${dailyRewardsInBTC.toFixed(8)}`;
                document.getElementById('electricity-cost').innerText = `${dailyElectricityCost.toFixed(2)}`;
                document.getElementById('electricity-cost-btc').innerText = `${dailyElectricityCostInBTC.toFixed(8)}`;
                document.getElementById('service-cost').innerText = `${dailyServiceCost.toFixed(2)}`;
                document.getElementById('service-cost-btc').innerText = `${dailyServiceCostInBTC.toFixed(8)}`;
                document.getElementById('daily-maintenance-cost').innerText = `${dailyTotalMaintenanceCost.toFixed(2)}`;
                document.getElementById('daily-maintenance-cost-btc').innerText = `${dailyMaintenanceCostInBTC.toFixed(8)}`;
                document.getElementById('daily-net-profit').innerText = `${dailyNetProfitInUSD.toFixed(2)}`;
                document.getElementById('daily-net-profit-btc').innerText = `${dailyNetProfitInBTC.toFixed(8)}`;
                document.getElementById('monthly-rewards').innerText = `${monthlyRewardsInUSD.toFixed(2)}`;
                document.getElementById('monthly-rewards-btc').innerText = `${monthlyRewardsInBTC.toFixed(8)}`;
                document.getElementById('monthly-maintenance-cost').innerText = `${monthlyMaintenanceCostInUSD.toFixed(2)}`;
                document.getElementById('monthly-maintenance-cost-btc').innerText = `${monthlyMaintenanceCostInBTC.toFixed(8)}`;
                document.getElementById('monthly-net-profit').innerText = `${monthlyNetProfitInUSD.toFixed(2)}`;
                document.getElementById('monthly-net-profit-btc').innerText = `${monthlyNetProfitInBTC.toFixed(8)}`;
                document.getElementById('maintenance').innerText = `${costPercentage.toFixed(2)} %`; // Wert aktualisieren
            }


		function calculateServiceCost() {
            //const efficiency = parseFloat(document.getElementById('Energy-efficiency').value);


            if ( !th || !daily_cost) {
                document.getElementById('service-cost-result').innerText = "Bitte alle Felder ausfüllen!";
                return;
            }

            const dailyService = ( th * daily_cost );
            document.getElementById('service-cost-result').innerText = `daily service cost: $${dailyService.toFixed(2)}`;
        }
		async function getBTCPrice() {
				const BTC = await fetchPrices();
				console.log(BTC); // Verwende den Wert hier
			}

					// Füge einen Event Listener hinzu, der das Feld "Daily-Reward" überwacht
			document.getElementById('Daily-Reward').addEventListener('input', function () {
				const dailyReward = parseFloat(document.getElementById('Daily-Reward').value); // Wert des Daily-Reward-Feldes
				const myTH = parseFloat(document.getElementById('My_TH').value); // Wert des My_TH-Feldes

				// Überprüfe, ob beide Werte gültig sind, um eine Division durch 0 zu vermeiden
				if (!isNaN(dailyReward) && !isNaN(myTH) && myTH > 0) {
					const satoshiPerTH = dailyReward / myTH; // Berechnung
					document.getElementById('Satoshi-per-TH').value = satoshiPerTH.toFixed(2); // Ergebnis einfügen
				} else {
					document.getElementById('Satoshi-per-TH').value = ''; // Leeren, falls ungültig
				}
			});
					// Füge einen Event Listener hinzu, der das Feld "Daily-Reward" überwacht
			document.getElementById('Satoshi-per-TH').addEventListener('input', function () {
				const satpTH = parseFloat(document.getElementById('Satoshi-per-TH').value); // Wert des Daily-Reward-Feldes
				const myTH = parseFloat(document.getElementById('My_TH').value); // Wert des My_TH-Feldes

				// Überprüfe, ob beide Werte gültig sind, um eine Division durch 0 zu vermeiden
				if (!isNaN(satpTH) && !isNaN(myTH) && myTH > 0) {
					const dailyReward = satpTH * myTH; // Berechnung
					document.getElementById('Daily-Reward').value = dailyReward.toFixed(2); // Ergebnis einfügen
				} else {
					document.getElementById('Daily-Reward').value = '0'; // Leeren, falls ungültig
				}
			});	
					// Füge einen Event Listener hinzu, der das Feld "Daily-Reward" überwacht
			document.getElementById('My_TH').addEventListener('input', function () {
				const satpTH = parseFloat(document.getElementById('Satoshi-per-TH').value); // Wert des Daily-Reward-Feldes
				const myTH = parseFloat(document.getElementById('My_TH').value); // Wert des My_TH-Feldes

				// Überprüfe, ob beide Werte gültig sind, um eine Division durch 0 zu vermeiden
				if (!isNaN(satpTH) && !isNaN(myTH) && myTH > 0) {
					const dailyReward = satpTH * myTH; // Berechnung
					document.getElementById('Daily-Reward').value = dailyReward.toFixed(2); // Ergebnis einfügen
				} else {
					document.getElementById('Daily-Reward').value = '0'; // Leeren, falls ungültig
				}
			});				
			document.addEventListener('DOMContentLoaded', () => {
			// Füge einen Event Listener für alle Eingabefelder hinzu
			const inputs = document.querySelectorAll('input');

			inputs.forEach((input, index) => {
				input.addEventListener('keydown', (event) => {
					if (event.key === 'Enter') {
						event.preventDefault(); // Verhindere das Standardverhalten (z. B. Form-Submission)
						const nextInput = inputs[index + 1]; // Nächstes Feld suchen

						if (nextInput) {
							nextInput.focus(); // Fokus auf das nächste Feld setzen
						} else {
							input.blur(); // Letztes Feld: Tastatur schließen
						}
					}
				});
			});
		});

    </script>
</body>
</html>
